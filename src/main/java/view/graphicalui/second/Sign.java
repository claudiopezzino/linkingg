package view.graphicalui.second;

import javafx.scene.control.TextArea;
import java.util.List;


public abstract class Sign extends Shell{

    ////////////////////////////////////////////////////////////////////
    protected static final String SIGN_OPTIONS = "Choose from \n\n\n" +
            "->   google\n\n" +
            "->   facebook\n\n" +
            "->   manual\n\n\n";
    /////////////////////////////////////////////////////////////////////

    /////////////////////////////////
    private Boolean signMode = true;
    /////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////////////////
    protected static final String INIT_MSG = "\nPlease, type the following information \n";
    ///////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////
    protected List<String> userInfo;
    ////////////////////////////////

    /////////////////////////////////////////////////////////////////////////
    protected QuestionStateMachine stateMachine = new QuestionStateMachine();
    /////////////////////////////////////////////////////////////////////////


    //////////////////////////////////////////////////////////////////
    public void fillUserInfo(String info){
        this.userInfo.add(info);
    }
    //////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////
    public List<String> getUserInfo() {
        return this.userInfo;
    }
    ////////////////////////////////////////////////////////////

    ///////////////////////////////////////////
    @Override
    public void setUpScreen() {
        this.screen = new TextArea();
        this.screen.setEditable(false);
        this.screen.setText(LEGEND + INIT_MSG);
        this.screen.setFocusTraversable(false);
    }
    ///////////////////////////////////////////

    /////////////////////////////////////////////////////////
    public void prevScreen(){
        this.userInfo.remove(this.userInfo.size() - 1);
        this.screen.setText(LEGEND + INIT_MSG);
        for(String answer : this.userInfo){
            this.stateMachine.displayQuestion();
            this.screen.appendText(answer);
            this.stateMachine.nextQuestion();
        }
        this.stateMachine.displayQuestion();
        this.stateMachine.nextQuestion();
    }
    /////////////////////////////////////////////////////////

    ///////////////////////////////////////////
    @Override
    public void restoreScreen(){
        this.screen.setText(LEGEND + INIT_MSG);
        this.userInfo.clear();
    }
    ///////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////
    public void displaySignOptions(){
        this.screen.setText(LEGEND + SIGN_OPTIONS);
    }
    ////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////
    public void displayQuestion(){
        this.stateMachine.displayQuestion();
        this.stateMachine.nextQuestion();
    }
    ////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    public QuestionStateMachine getStateMachine(){
        return this.stateMachine;
    }
    ///////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////
    public Boolean getSignMode() {
        return this.signMode;
    }
    ///////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////
    public void setSignMode(Boolean signMode) {
        this.signMode = signMode;
    }
    ///////////////////////////////////////////////////////////////////////

}
